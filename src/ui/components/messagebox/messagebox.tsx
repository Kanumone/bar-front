import clsx from "clsx";
import styles from "./style.module.css";

interface Props {
  className?: string;
  text: string | string[];
  onClick?: () => void;
}

const Message = ({ text }: { text: string }) => <p className={styles.text}>{text}</p>;

export const Messagebox = ({ className, text, onClick }: Props) => {
  const messages = typeof text === "string" ? <Message text={text}/> : text.map(((text) => <Message key={text} text={text}/>));
  return (
    <div className={clsx(styles.messageboxContainer, className)} onClick={onClick}>
      <svg
        className={styles.svgBackground}
        viewBox="0 0 2539 751"
        preserveAspectRatio="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M2372.38 750.118H154.248C69.2166 750.118 0 680.943 0 595.911V166.645C0 81.613 69.1755 12.4375 154.248 12.4375H2372.42C2457.46 12.4375 2526.67 81.613 2526.67 166.645V595.911C2526.67 680.943 2457.5 750.118 2372.42 750.118H2372.38ZM154.248 57.5824C94.1099 57.5824 45.1859 106.506 45.1859 166.604V595.87C45.1859 656.008 94.1099 704.891 154.248 704.891H2372.42C2432.56 704.891 2481.49 655.967 2481.49 595.87V166.604C2481.49 106.465 2432.56 57.5824 2372.42 57.5824H154.248Z" fill="#665B3C"/>
        <path d="M2384.71 737.794H166.572C81.5408 737.794 12.3242 668.618 12.3242 583.587V154.32C12.3242 69.2888 81.4997 0.113281 166.572 0.113281H2384.75C2469.78 0.113281 2539 69.2888 2539 154.32V583.587C2539 668.618 2469.82 737.794 2384.75 737.794H2384.71ZM166.572 45.2581C106.434 45.2581 57.5101 94.1822 57.5101 154.279V583.546C57.5101 643.684 106.434 692.567 166.572 692.567H2384.75C2444.89 692.567 2493.81 643.643 2493.81 583.546V154.279C2493.81 94.1411 2444.89 45.2581 2384.75 45.2581H166.572Z" fill="#AE966C"/>
        <path d="M2372.38 750.118H154.248C69.2166 750.118 0 680.943 0 595.911V166.645C0 81.613 69.1755 12.4375 154.248 12.4375H2372.42C2457.46 12.4375 2526.67 81.613 2526.67 166.645V595.911C2526.67 680.943 2457.5 750.118 2372.42 750.118H2372.38ZM154.248 57.5824C94.1099 57.5824 45.1859 106.506 45.1859 166.604V595.87C45.1859 656.008 94.1099 704.891 154.248 704.891H2372.42C2432.56 704.891 2481.49 655.967 2481.49 595.87V166.604C2481.49 106.465 2432.56 57.5824 2372.42 57.5824H154.248Z" fill="#665B3C"/>
        <path d="M0.291016 605.234V157.605L15.6953 424.449L0.291016 605.234Z" fill="#AE966C"/>
        <path d="M2481.45 166.598V595.864L2500.38 444.737L2481.45 166.598Z" fill="#AE966C"/>
        <path d="M2372.39 704.93H166.576L2105.09 719.553L2372.39 704.93Z" fill="#C1AF91"/>
        <path d="M154.254 12.3945H2372.39L2102.26 29.9349L154.254 12.3945Z" fill="#C1AF91"/>
        <path d="M2372.39 34.9844H1339.52L1224 34.9858L1099.99 34.9844H154.249C81.5408 34.9844 22.5938 93.9315 22.5938 166.64V595.906C22.5938 668.614 81.5408 727.561 154.249 727.561H2372.43C2445.13 727.561 2504.08 668.614 2504.08 595.906V166.64C2504.08 93.9315 2445.13 34.9844 2372.43 34.9844H2372.39Z" fill="url(#paint0_linear_248_432)"/>
        <path d="M154.254 727.523L2311.92 739.477L2390.05 727.523H154.254Z" fill="#AE966C"/>
        <defs>
          <linearGradient id="paint0_linear_248_432" x1="2331.92" y1="-188.93" x2="274.607" y2="908.8" gradientUnits="userSpaceOnUse">
            <stop stopColor="#C8BFA2"/>
            <stop offset="1" stopColor="#B2A787"/>
          </linearGradient>
        </defs>
      </svg>
      <div className={styles.content}>
        {messages}
      </div>
    </div>
  );
};
